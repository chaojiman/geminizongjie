# 🧪 测试指南

## ✅ 修改已完成

### 修改1: URL更新 ✓
- 现在跳转到：`https://gemini.google.com/app`
- 确保使用 Gemini 2.5 Pro 模型

### 修改2: 完整内容提取 ✓
- 提取完整网页文本（非仅链接）
- 包含标题、段落、图片信息
- 智能过滤广告和无关内容

---

## 🧪 测试步骤

### 准备工作

1. **生成图标**（如果还没做）
   ```
   双击打开 icon-generator.html
   点击「下载全部图标」
   保存到 icons/ 文件夹
   ```

2. **重新加载插件**
   - 访问 `chrome://extensions/`
   - 找到「Gemini页面总结助手」
   - 点击刷新图标 🔄

### 测试场景1：基础功能

1. 打开任意新闻网站（如：https://www.bbc.com/news）
2. 点击插件图标
3. 点击「发送到Gemini总结」
4. 观察：
   - ✅ 是否跳转到 `gemini.google.com/app`
   - ✅ 页面是否显示 Gemini 2.5 Pro 模型
   - ✅ 输入框是否自动填充完整内容
   - ✅ 内容是否包含文章标题和正文

### 测试场景2：快捷键

1. 打开技术博客（如：https://dev.to）
2. 按快捷键 `Ctrl+Shift+G`
3. 观察相同的检查点

### 测试场景3：复杂页面

1. 打开包含图片的文章
2. 使用插件
3. 检查：
   - ✅ 文字内容是否完整
   - ✅ 是否列出了图片信息
   - ✅ 是否过滤了广告

### 测试场景4：长文章

1. 打开长篇文章（如Wikipedia）
2. 使用插件
3. 检查：
   - ✅ 内容是否完整
   - ✅ 标题层级是否保持
   - ✅ 提取速度是否快速

---

## 🔍 验证要点

### URL检查
```
期望URL: https://gemini.google.com/app
模型显示: Gemini 2.5 Pro（或Gemini Experimental）
```

### 内容检查
打开浏览器控制台（F12），查看日志：
```
✅ 内容已成功填充到Gemini输入框
📝 内容长度: XXXX 字符
```

### 提取质量检查
在Gemini输入框查看内容是否包含：
- ✅ 网页标题和URL
- ✅ 提取时间
- ✅ 完整文本内容
- ✅ 标题层级（### 格式）
- ✅ 图片信息列表
- ✅ 分析要求（4个维度）

---

## 🐛 常见问题调试

### 问题1: 未跳转到正确URL

**检查**:
```bash
cd /d/test/11/gemini-summarizer
grep 'gemini.google.com/app' background.js
```

**期望输出**:
```
const geminiUrl = `https://gemini.google.com/app`;
```

### 问题2: 内容未填充

**可能原因**:
1. 页面加载时间不够（延迟不足3秒）
2. Gemini页面结构变化
3. 浏览器权限问题

**调试步骤**:
1. 打开 `gemini.google.com/app`
2. 按F12打开控制台
3. 在控制台执行:
```javascript
document.querySelector('[contenteditable="true"]')
```
4. 如果返回null，说明选择器需要更新

### 问题3: 内容不完整

**检查提取的内容**:
1. 在原网页按F12
2. 点击插件前，在控制台运行:
```javascript
// 查看将被提取的内容
document.body.innerText.length
```

3. 点击插件后，在Gemini页面控制台查看:
```javascript
// 查看填充的内容长度
document.querySelector('[contenteditable="true"]').textContent.length
```

---

## ✅ 测试清单

### 功能测试
- [ ] 点击图标触发
- [ ] 快捷键触发
- [ ] 后台打开选项
- [ ] 前台打开选项

### URL测试
- [ ] 正确跳转到 gemini.google.com/app
- [ ] 页面显示2.5 Pro模型

### 内容测试
- [ ] 提取完整文本
- [ ] 提取图片信息
- [ ] 保持标题层级
- [ ] 过滤广告内容
- [ ] 包含分析提示词

### 性能测试
- [ ] 提取速度 < 2秒
- [ ] 页面不卡顿
- [ ] 内存占用正常

### 兼容性测试
- [ ] 新闻网站
- [ ] 技术博客
- [ ] Wikipedia
- [ ] 产品页面
- [ ] 社交媒体（如Twitter/X）

---

## 📊 测试报告模板

```markdown
## 测试日期: YYYY-MM-DD

### 测试网站:
- URL: [网站链接]
- 类型: 新闻/博客/Wiki/其他

### 测试结果:
- URL跳转: ✅/❌
- 内容填充: ✅/❌
- 提取完整度: XX%
- 速度: X秒

### 问题记录:
1. [描述问题]
2. [描述问题]

### 改进建议:
1. [建议内容]
```

---

## 🎯 成功标准

测试通过条件：
1. ✅ 100%跳转到正确URL
2. ✅ 90%以上内容提取完整
3. ✅ 所有测试场景通过
4. ✅ 无明显性能问题
5. ✅ 用户体验流畅

---

## 📞 问题反馈

如果测试发现问题：
1. 记录问题详情（网站URL、错误信息）
2. 截图保存
3. 查看浏览器控制台日志
4. 反馈给开发者

---

**开始测试，祝一切顺利！** 🚀
