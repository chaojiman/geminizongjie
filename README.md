# Gemini页面总结助手 Chrome插件

一键将当前网页内容发送到Gemini进行智能总结分析的Chrome浏览器扩展。

## ✨ 功能特点

- 🚀 **一键总结**: 点击插件图标或使用快捷键快速发送网页内容到Gemini
- 📝 **智能提取**: 高效提取网页文字和图片，过滤广告和无关内容
- 🎯 **深度分析**: 使用预设的阅读分析提示词，让Gemini进行多维度分析
- ⚙️ **灵活配置**: 支持后台打开、自定义快捷键等选项
- ⚡ **性能优化**: 采用高效的内容提取算法，确保速度和完整性

## 📦 安装方法

### 本地安装（开发模式）

1. 下载或克隆本项目到本地

2. 生成图标文件（需要）:
   ```bash
   # 你需要准备4个PNG图标文件，放在icons目录下：
   # - icon16.png (16x16)
   # - icon32.png (32x32)
   # - icon48.png (48x48)
   # - icon128.png (128x128)

   # 可以使用在线工具将icons/icon.svg转换为PNG：
   # https://svgtopng.com/
   # 或使用图像编辑软件（如GIMP、Photoshop）创建
   ```

3. 打开Chrome浏览器，访问 `chrome://extensions/`

4. 在右上角启用「开发者模式」

5. 点击「加载已解压的扩展程序」

6. 选择本项目的 `gemini-summarizer` 文件夹

7. 安装完成！你会在浏览器工具栏看到插件图标

## 🎮 使用方法

### 方法1：点击插件图标

1. 浏览到想要总结的网页
2. 点击浏览器工具栏的插件图标
3. 在弹出窗口点击「发送到Gemini总结」按钮
4. 等待自动打开Gemini页面并填充内容

### 方法2：使用快捷键

1. 浏览到想要总结的网页
2. 按下快捷键 `Ctrl+Shift+G` (Mac: `Command+Shift+G`)
3. 自动提取内容并打开Gemini

### 修改快捷键

1. 访问 `chrome://extensions/shortcuts`
2. 找到「Gemini页面总结助手」
3. 点击输入框，按下你想要的快捷键组合
4. 保存即可

## ⚙️ 配置选项

在插件弹出窗口中可以配置以下选项：

- **后台打开Gemini页面**: 勾选后，Gemini页面将在后台标签页打开，不影响当前浏览
- **快捷键设置**: 可自定义触发插件的快捷键

## 📋 分析提示词

插件会自动使用以下分析框架对网页内容进行评估（基于《如何阅读一本书》的阅读技巧）：

1. **整体理解**: 网页主题、核心议题
2. **细节分析**: 主要观点、论证方法
3. **合理性评估**: 内容可信度、逻辑严密性
4. **实用价值**: 对读者的意义和启示

## 🚀 发布到Chrome Web Store

如果你想将插件发布到Chrome应用商店，需要完成以下步骤：

### 1. 准备工作

- [ ] **设计专业图标**: 准备高质量的图标文件（16x16, 32x32, 48x48, 128x128）
- [ ] **准备宣传素材**:
  - 至少1张截图（1280x800 或 640x400）
  - 小型宣传图（440x280）
  - 可选：大型宣传图、视频演示
- [ ] **完善描述文案**:
  - 简短描述（132字符以内）
  - 详细描述（详细介绍功能特点）
- [ ] **创建隐私政策页面**（如果收集用户数据）

### 2. 注册开发者账号

1. 访问 [Chrome Web Store开发者控制台](https://chrome.google.com/webstore/devconsole/)
2. 使用Google账号登录
3. 支付一次性注册费用（$5美元）
4. 完成开发者账号注册

### 3. 打包扩展程序

```bash
# 在项目根目录执行
cd gemini-summarizer
zip -r gemini-summarizer.zip * -x "*.git*" "node_modules/*" "*.DS_Store"
```

或者在Chrome中直接打包：
1. 访问 `chrome://extensions/`
2. 点击「打包扩展程序」
3. 选择扩展程序根目录
4. 生成 `.crx` 文件和 `.pem` 私钥文件（妥善保管私钥！）

### 4. 上传到Chrome Web Store

1. 在开发者控制台点击「新增项」
2. 上传打包的ZIP文件
3. 填写商店信息：
   - **产品详情**：名称、摘要、详细说明
   - **图形资源**：图标、截图、宣传图
   - **类别**：选择「生产力」或「实用工具」
   - **语言**：选择支持的语言（中文、英文等）
4. 填写隐私权政策（如适用）
5. 设置定价（免费或付费）
6. 提交审核

### 5. 等待审核

- 审核时间通常为1-3个工作日
- 审核通过后会收到邮件通知
- 如被拒绝，会说明原因，修改后可重新提交

### 6. 常见审核要点

- ✅ **功能完整**: 确保所有功能正常工作
- ✅ **权限合理**: 只申请必要的权限，并说明用途
- ✅ **无隐私问题**: 不收集敏感信息，或明确说明收集目的
- ✅ **无恶意代码**: 代码简洁，无混淆，无远程加载脚本
- ✅ **描述准确**: 描述与实际功能一致
- ✅ **图标质量**: 使用清晰、专业的图标

### 7. 发布后维护

- 定期更新插件修复bug和添加新功能
- 回复用户评论和反馈
- 监控使用数据和错误报告
- 保持与Chrome平台政策的合规性

## 🛠️ 技术架构

- **Manifest V3**: 使用最新的Chrome扩展API
- **Content Script**: 高效的页面内容提取
- **Background Service Worker**: 处理异步任务和标签页管理
- **Storage API**: 保存用户设置
- **Scripting API**: 动态注入脚本

## 📝 开发说明

### 项目结构

```
gemini-summarizer/
├── manifest.json          # 扩展配置文件
├── background.js          # 后台服务脚本
├── content-extractor.js   # 内容提取脚本
├── popup.html            # 弹出窗口页面
├── popup.css             # 弹出窗口样式
├── popup.js              # 弹出窗口逻辑
├── icons/                # 图标文件夹
│   ├── icon16.png
│   ├── icon32.png
│   ├── icon48.png
│   └── icon128.png
└── README.md             # 说明文档
```

### 核心功能实现

1. **内容提取** (`content-extractor.js`):
   - 使用TreeWalker API遍历DOM
   - 智能过滤广告和无关元素
   - 提取文字、标题、图片
   - 优化性能，避免阻塞

2. **提示词构建** (`background.js`):
   - 格式化网页内容为Markdown
   - 添加结构化的分析提示词
   - 支持图片URL引用

3. **Gemini交互** (`background.js`):
   - 打开Gemini页面
   - 自动填充输入框
   - 支持后台/前台打开

## ⚠️ 注意事项

1. **权限说明**:
   - `activeTab`: 访问当前标签页内容
   - `storage`: 保存用户设置
   - `scripting`: 注入内容提取脚本
   - `tabs`: 管理标签页

2. **隐私保护**:
   - 所有数据处理均在本地完成
   - 不上传任何内容到第三方服务器
   - 直接发送到用户的Gemini账户

3. **使用限制**:
   - 需要登录Google账号才能使用Gemini
   - 受Gemini API速率限制
   - 某些网站可能限制内容提取

## 🐛 问题排查

### 插件无法加载
- 检查是否启用了开发者模式
- 确认所有必需文件都存在
- 查看Chrome扩展页面的错误信息

### 内容提取失败
- 某些网站使用了特殊的反爬虫技术
- 尝试在页面完全加载后再点击插件
- 检查浏览器控制台的错误信息

### Gemini页面未填充内容
- Gemini页面结构可能已更新
- 需要更新 `background.js` 中的选择器
- 确保Gemini页面已完全加载

## 📄 许可证

MIT License

## 🤝 贡献

欢迎提交Issue和Pull Request！

## 📮 联系方式

如有问题或建议，请通过Chrome Web Store扩展页面的反馈功能联系。

---

**享受智能阅读，让Gemini助力你的知识获取！** 🚀
